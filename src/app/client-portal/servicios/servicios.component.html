<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Rajdhani:wght@500&family=Poppins:wght@500&display=swap" rel="stylesheet">

<div class="layout">

  <!-- ===== SIDEBAR ===== -->
  <aside class="sidebar">
<h2 class="sidebar-logo">
    <img src="assets\icono-iniciar-sesion.png">
</h2>

      <nav class="sidebar-menu">
        <a routerLink="/cliente/dashboard"><i class="bi bi-house"></i> Inicio</a>
        <a routerLink="/cliente/account"><i class="bi bi-gear"></i> Configuración</a>
        <a routerLink="/cliente/historial"><i class="bi bi-clock-history"></i> Historial</a>
        <a class="active" routerLink="/cliente/servicios"><i class="bi bi-calendar-check"></i> Servicios</a>
              <a routerLink="/cliente/citas"><i class="bi bi-tools"></i> Citas</a>

      </nav>
  </aside>

  <!-- ===== MAIN ===== -->
  <main class="main">

      <!-- TOPBAR -->
<header class="topbar">
  <div class="top-left">
    <div class="search-box">
  <i class="bi bi-search"></i>
  <input placeholder="Buscar...">
</div>


  </div>

  <div class="top-right">
      <i class="bi bi-bell notify-icon"></i>

      <span class="user-name">Nathan User</span>
      <img class="user-avatar" src="https://cdn-icons-png.flaticon.com/512/847/847969.png">

      <button class="logout-btn-icon"><i class="bi bi-box-arrow-right"></i></button>
  </div>
</header> 

<div class="servicio-wrapper">
  <div class="servicio-formulario">
    <h2>Empresa de Soporte Técnico</h2>
    <h3>Registrar Servicio de Instalación</h3>

    <form>
      <div class="form-grid">
        <div class="columna">
          <div class="campo">
            <label for="programa">Programa a Instalar</label>
            <select [(ngModel)]="servicio.programa" (change)="actualizarPrecio()" name="programa">
  <option value="">Seleccionar</option>
  <optgroup label="Instalación">
    <option *ngFor="let s of programasInstalacion" [value]="s.id_servicio">
      {{ s.descripcion_servicio }}
    </option>
  </optgroup>
  <optgroup label="Reparación">
    <option *ngFor="let r of programasReparacion" [value]="r.id_servicio">
      {{ r.descripcion_servicio }}
    </option>
  </optgroup>
</select>
          </div>

          <div class="campo">
            <label for="precio">Precio</label>
<!-- Precio -->
<input type="text" [value]="'S/. ' + (servicio.precio || '0.00')" readonly />          </div>

          <div class="campo">
            <label for="nombres">Nombres</label>
            <input type="text" id="nombres" [(ngModel)]="servicio.nombres" name="nombres" placeholder="Ingresa tus nombres" />
          </div>

          <div class="campo">
            <label for="apellidos">Apellidos</label>
            <input type="text" id="apellidos" [(ngModel)]="servicio.apellidos" name="apellidos" placeholder="Ingresa tus apellidos" />
          </div>

          <div class="campo">
            <label for="dni">DNI/RUC <span class="opcional">(Autogenerado)</span></label>
            <input type="text" id="dni" [(ngModel)]="servicio.dni" name="dni" placeholder="Ej. 12345678" />
          </div>
        </div>

        <div class="columna">
          <div class="campo">
            <label for="modalidad">Modalidad</label>
           <!-- Modalidad -->
<select [(ngModel)]="servicio.modalidad" name="modalidad">
  <option value="">Seleccionar</option>
  <option *ngFor="let m of modalidades" [value]="m.id_modalidad">{{ m.nombre_modalidad }}</option>
</select>
          </div>

          <div class="campo">
            <label for="distrito">Distrito</label>
            <!-- Distrito -->
<select [(ngModel)]="servicio.distrito" (change)="actualizarPrecio()" name="distrito">
  <option value="">Seleccionar</option>
  <option *ngFor="let d of distritos" [value]="d.nombre_distrito">{{ d.nombre_distrito }}</option>
</select>
          </div>

          <div class="campo">
            <label for="direccion">Dirección</label>
            <input type="text" id="direccion" [(ngModel)]="servicio.direccion" name="direccion" placeholder="Dirección completa" />
          </div>

          <div class="campo">
            <label for="fecha">Fecha</label>
            <input type="date" id="fecha" [(ngModel)]="servicio.fecha" name="fecha" />
          </div>

          <div class="campo">
            <label for="hora">Hora</label>
            <!-- Hora -->
<select [(ngModel)]="servicio.hora" name="hora">
  <option value="">Seleccionar</option>
  <option *ngFor="let h of horarios" [value]="h.id_horario">{{ h.horario }}</option>
</select>
          </div>
        </div>
      </div>

      <div class="campo">
        <label for="comentario">Comentario</label>
        <textarea id="comentario" [(ngModel)]="servicio.comentario" name="comentario" rows="3" placeholder="Escribe algún detalle adicional..."></textarea>
      </div>

      <div class="terminos">
        <input type="checkbox" id="acepto" [(ngModel)]="servicio.acepto" name="acepto" />
        <label for="acepto">Acepto los términos y condiciones</label>
      </div>

<!-- Botón -->
<button type="button" class="btn-pagar" [disabled]="!formularioValido()" (click)="registrarServicio()">
  Pagar Servicio
</button>
    </form>
  </div>
</div>
